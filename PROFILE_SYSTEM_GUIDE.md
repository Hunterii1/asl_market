# ๐ญ ุณุณุชู ูพุฑููุงู ุนููู - ุฑุงูููุง ฺฉุงูู

## ๐ ููุง ฺฉู

ฺฉ ุณุณุชู ูพุฑููุงู ฺฉุงูู ูุดุงุจู ูุณุจูฺฉ ูพุงุฏูโุณุงุฒ ุดุฏู ุงุณุช ฺฉู ุดุงูู:
- ุนฺฉุณ ูพุฑููุงู ฺฉุงุฑุจุฑ
- ุนฺฉุณ ูพุณโุฒููู (Cover Image)
- ุงุทูุงุนุงุช ุดุฎุต ู ุจูฺฏุฑุงู
- ููุงุด ูุนุงูุชโูุง ฺฉุงุฑุจุฑ (ุชุฃููโฺฉููุฏูุ ูุฒุชูุฑ)
- ุงูฺฉุงู ูุดุงูุฏู ูพุฑููุงู ุนููู ุจุฑุง ููู ฺฉุงุฑุจุฑุงู
- ููฺฉ ุจู ูพุฑููุงู ุงุฒ ูุฑ ุฌุง ุณุณุชู

## ๐๏ธ ุณุงุฎุชุงุฑ ุจฺฉโุงูุฏ

### 1. ูุฏูโูุง ูพุงฺฏุงู ุฏุงุฏู

#### User Model
```go
type User struct {
    // ... ููุฏูุง ูุจู
    
    // Profile fields
    ProfileImageURL     string `json:"profile_image_url"`
    CoverImageURL       string `json:"cover_image_url"`
    Bio                 string `json:"bio"`
    Location            string `json:"location"`
    Website             string `json:"website"`
    SocialMediaLinks    string `json:"social_media_links"` // JSON
}
```

#### Supplier/Visitor Response
ูุฑ ุฏู ุงู responses ุญุงูุง ุดุงูู ููุฏูุง ูพุฑููุงู ฺฉุงุฑุจุฑ ูุณุชูุฏ:
```go
UserProfileImageURL string `json:"user_profile_image_url"`
UserCoverImageURL   string `json:"user_cover_image_url"`
```

### 2. ฺฉูุชุฑูุฑูุง

#### ProfileController (`backend/controllers/profile_controller.go`)

**Endpoints:**

1. **GET /api/v1/profile/:id** (Public)
   - ููุงุด ูพุฑููุงู ุนููู ูุฑ ฺฉุงุฑุจุฑ
   - ุดุงูู ุงุทูุงุนุงุช ุชุฃููโฺฉููุฏู ุง ูุฒุชูุฑ ุจูุฏู
   - ููุงุด ูุนุงูุชโูุงุ ุงูุชุงุฒุงุชุ ู ุขูุงุฑ

2. **PUT /api/v1/profile/update** (Protected)
   - ูุฑุงุด ุงุทูุงุนุงุช ูพุฑููุงู ุชูุณุท ุฎูุฏ ฺฉุงุฑุจุฑ
   - ููุฏูุง: first_name, last_name, email, bio, location, website, social_media_links

3. **POST /api/v1/profile/upload-profile-image** (Protected)
   - ุขูพููุฏ ุนฺฉุณ ูพุฑููุงู
   - ูุฑูุช: multipart/form-data
   - ููุฏ: `image`

4. **POST /api/v1/profile/upload-cover-image** (Protected)
   - ุขูพููุฏ ุนฺฉุณ ูพุณโุฒููู
   - ูุฑูุช: multipart/form-data
   - ููุฏ: `image`

### 3. ุฏุงุฑฺฉุชูุฑโูุง ุขูพููุฏ

```
uploads/
โโโ profiles/    # ุนฺฉุณโูุง ูพุฑููุงู
โโโ covers/      # ุนฺฉุณโูุง ูพุณโุฒููู
```

## ๐จ ุณุงุฎุชุงุฑ ูุฑุงูุชโุงูุฏ

### 1. ุตูุญุงุช

#### UserProfile (`src/pages/UserProfile.tsx`)
ุตูุญู ููุงุด ูพุฑููุงู ุนููู:
- ุนฺฉุณ ูพุฑููุงู ู ูพุณโุฒููู ุจุง ุงูฺฉุงู ูุฑุงุด (ุจุฑุง ูุงูฺฉ)
- ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ (ูุงูุ ุจูุ ูููุนุชุ ูุจุณุงุช)
- ฺฉุงุฑุชโูุง ุขูุงุฑ (ุชุนุฏุงุฏ ูุญุตููุงุชุ ุฏุฑุฎูุงุณุชโูุงุ ุงูุชุงุฒ)
- ุงุทูุงุนุงุช ุชุฃููโฺฉููุฏู/ูุฒุชูุฑ
- ุชุจโูุง ูุนุงูุช (Overview, Activity, About)

**Route:** `/profile/:id`

#### EditProfile (`src/pages/EditProfile.tsx`)
ุตูุญู ูุฑุงุด ูพุฑููุงู:
- ูุฑู ูุฑุงุด ุงุทูุงุนุงุช ุดุฎุต
- ูุฑุงุด ุจูฺฏุฑุงูุ ูููุนุชุ ูุจุณุงุช
- ููฺฉโูุง ุดุจฺฉูโูุง ุงุฌุชูุงุน (JSON format)

**Route:** `/edit-profile` (Protected)

### 2. API Service

```typescript
// Profile methods in apiService
getUserProfile(userId: number)
updateProfileInfo(data)
uploadProfileImage(formData)
uploadCoverImage(formData)
```

### 3. ููฺฉ ุจู ูพุฑููุงู

ุฏุฑ ุชูุงู ูุณุชโูุง ู ฺฉุงุฑุชโูุงุ ูุงู ฺฉุงุฑุจุฑ ุจู ูพุฑููุงู ููฺฉ ุดุฏู ุงุณุช:

**AslSupplier.tsx:**
```tsx
<button onClick={() => navigate(`/profile/${supplier.user_id}`)}>
  {supplier.brand_name || supplier.full_name}
</button>
```

**AslVisit.tsx:**
```tsx
<button onClick={() => navigate(`/profile/${visitor.user_id}`)}>
  {visitor.full_name}
</button>
```

**HeaderAuth:**
- ููู ฺฉุงุฑุจุฑ ุดุงูู "ูพุฑููุงู ูู" ู "ูุฑุงุด ูพุฑููุงู"

## ๐ฏ ูฺฺฏโูุง ฺฉูุฏ

### 1. ููุงุด Contextual
ูพุฑููุงู ุจู ุตูุฑุช ููุดููุฏ ูุญุชูุง ุฑุง ููุงุด ูโุฏูุฏ:
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ุชุฃููโฺฉููุฏู ุจุงุดุฏ: ุงุทูุงุนุงุช ุชุฃููโฺฉููุฏู + ูุญุตููุงุช + ุฏุฑุฎูุงุณุชโูุง ูฺูฺฏ
- ุงฺฏุฑ ฺฉุงุฑุจุฑ ูุฒุชูุฑ ุจุงุดุฏ: ุงุทูุงุนุงุช ูุฒุชูุฑ + ูพุฑูฺูโูุง ูุฒุชูุฑ
- ุงฺฏุฑ ูุฑ ุฏู ุจุงุดุฏ: ูุฑ ุฏู ุจุฎุด ููุงุด ุฏุงุฏู ูโุดูุฏ

### 2. ุขูพููุฏ ุชุตุงูุฑ
- ฺฉูฺฉ ุฑู ุขฺฉูู ุฏูุฑุจู ุจุฑุง ุขูพููุฏ
- Preview ููุฑ ุจุนุฏ ุงุฒ ุขูพููุฏ
- ุชุตุงูุฑ ุฏุฑ ุณุฑูุฑ ุฐุฎุฑู ูโุดููุฏ
- ูุฑูุช ูุงู ูุงู: `profile_{userID}_{timestamp}_{filename}`

### 3. ุฏุณุชุฑุณโูุง
- **ูพุฑููุงู ุนููู**: ููู ูโุชูุงููุฏ ุจุจููุฏ (ุญุช ุจุฏูู ูุงฺฏู)
- **ูุฑุงุด ูพุฑููุงู**: ููุท ูุงูฺฉ ุญุณุงุจ
- **ุขูพููุฏ ุชุตุงูุฑ**: ููุท ูุงูฺฉ ุญุณุงุจ
- **ุงุทูุงุนุงุช ุชูุงุณ**: ุจุง ุชูุฌู ุจู License Gate

### 4. UI/UX

**ูุดุฎุตุงุช ุทุฑุงุญ:**
- ุฑูฺฏโุจูุฏ Gradient (Orange to Purple)
- Border Radius: 2xl, 3xl (ุจุฑุง ูุฑูโูุง ู ฺฉุงุฑุชโูุง)
- ุงููุดูโูุง Hover
- Responsive Design (ููุจุงู-ูุฑุณุช)
- ุชุตุงูุฑ ุจุง Fallback (ุขูุงุชุงุฑ ูพุดโูุฑุถ)
- Loading States
- Toast Notifications

### 5. ุขูุงุฑ ู ูุนุงูุช

ูพุฑููุงู ุดุงูู ฺฉุงุฑุชโูุง ุขูุงุฑ ุงุณุช:
- ุชุนุฏุงุฏ ูุญุตููุงุช (ุจุฑุง ุชุฃููโฺฉููุฏู)
- ุชุนุฏุงุฏ ุฏุฑุฎูุงุณุชโูุง ูฺูฺฏ
- ุชุนุฏุงุฏ ูพุฑูฺูโูุง ูุฒุชูุฑ
- ูุงูฺฏู ุงูุชุงุฒ ู ุชุนุฏุงุฏ ุฑุชุจูโุจูุฏโูุง
- ุชุนุฏุงุฏ ฺุชโูุง ูุนุงู
- ุชุงุฑุฎ ุนุถูุช

## ๐ ููุงุท ุงุฏุบุงู

### ุฏุฑ ูุณุช ุชุฃููโฺฉููุฏูโูุง
- ฺฉูฺฉ ุฑู ูุงู ุชุฃููโฺฉููุฏู โ ูพุฑููุงู
- ููุงุด ุนฺฉุณ ูพุฑููุงู ฺฉุงุฑุจุฑ (ุฏุฑ ุตูุฑุช ูุฌูุฏ)

### ุฏุฑ ูุณุช ูุฒุชูุฑูุง
- ฺฉูฺฉ ุฑู ูุงู ูุฒุชูุฑ โ ูพุฑููุงู
- ููุงุด ุนฺฉุณ ูพุฑููุงู ฺฉุงุฑุจุฑ (ุฏุฑ ุตูุฑุช ูุฌูุฏ)

### ุฏุฑ Header
- ููู ฺฉุงุฑุจุฑ โ "ูพุฑููุงู ูู" โ `/profile/{user.id}`
- ููู ฺฉุงุฑุจุฑ โ "ูุฑุงุด ูพุฑููุงู" โ `/edit-profile`

### ุฏุฑ ฺุชโูุง ู ูพุงูโูุง
ูโุชูุงู ูุงู ูุฑุณุชูุฏู ุฑุง ุจู ูพุฑููุงู ููฺฉ ฺฉุฑุฏ

### ุฏุฑ ููุชูฺฉุดูโูุง
ูโุชูุงู ูุนุงูุชโูุง ฺฉุงุฑุจุฑุงู ุฑุง ุจู ูพุฑููุงู ุขูโูุง ููฺฉ ฺฉุฑุฏ

## ๐งช ุชุณุช ู ุจุฑุฑุณ

### ฺฺฉโูุณุช ุชุณุช:

โ **ุขูพููุฏ ุชุตุงูุฑ:**
- [ ] ุขูพููุฏ ุนฺฉุณ ูพุฑููุงู ุจุง ููููุช
- [ ] ุขูพููุฏ ุนฺฉุณ ูพุณโุฒููู ุจุง ููููุช
- [ ] ููุงุด ููุฑ ุจุนุฏ ุงุฒ ุขูพููุฏ
- [ ] ุฎุทุงูุง validation

โ **ูุฑุงุด ุงุทูุงุนุงุช:**
- [ ] ูุฑุงุด ูุงู ู ูุงู ุฎุงููุงุฏฺฏ
- [ ] ูุฑุงุด ุจูฺฏุฑุงู
- [ ] ูุฑุงุด ูููุนุช ู ูุจุณุงุช
- [ ] ุฐุฎุฑู ุชุบุฑุงุช

โ **ููุงุด ูพุฑููุงู:**
- [ ] ููุงุด ุจุฑุง ูุงูฺฉ ูพุฑููุงู
- [ ] ููุงุด ุจุฑุง ฺฉุงุฑุจุฑุงู ุฏฺฏุฑ
- [ ] ููุงุด ุจุฑุง ฺฉุงุฑุจุฑ guest (ุจุฏูู ูุงฺฏู)
- [ ] ููุงุด ฺฉุงุฑุชโูุง ุขูุงุฑ
- [ ] ููุงุด ูุนุงูุชโูุง

โ **ููฺฉโูุง:**
- [ ] ฺฉูฺฉ ุฑู ูุงู ุชุฃููโฺฉููุฏู โ ูพุฑููุงู
- [ ] ฺฉูฺฉ ุฑู ูุงู ูุฒุชูุฑ โ ูพุฑููุงู
- [ ] ููฺฉ ุฏุฑ Header โ ูพุฑููุงู
- [ ] ุฏฺฉูู ูุฑุงุด โ ุตูุญู ูุฑุงุด

โ **Responsive:**
- [ ] ููุจุงู (320px+)
- [ ] ุชุจูุช (768px+)
- [ ] ุฏุณฺฉุชุงูพ (1024px+)

## ๐ ููููู ุฏุงุฏู

### Profile Data Structure:
```json
{
  "user": {
    "id": 1,
    "first_name": "ุนู",
    "last_name": "ุงุญูุฏ",
    "email": "ali@example.com",
    "phone": "09123456789",
    "profile_image_url": "/uploads/profiles/profile_1_1234567890_avatar.jpg",
    "cover_image_url": "/uploads/covers/cover_1_1234567890_background.jpg",
    "bio": "ุชุฃููโฺฉููุฏู ุฒุนูุฑุงู ุฏุฑุฌู ฺฉ ุงุฒ ูุงู",
    "location": "ุฎุฑุงุณุงู ุฑุถูุ ูุงู",
    "website": "https://example.com",
    "social_media_links": "{\"instagram\":\"@username\",\"telegram\":\"@username\"}",
    "created_at": "2024-01-01T00:00:00Z"
  },
  "is_supplier": true,
  "supplier": {
    "id": 10,
    "brand_name": "ุฒุนูุฑุงู ูุงุฆู",
    "city": "ูุงู",
    "is_featured": true,
    "average_rating": 5.0,
    "total_ratings": 25
  },
  "is_visitor": false,
  "has_license": true,
  "products_count": 5,
  "matching_requests_count": 12,
  "activity": {
    "total_chats": 8,
    "member_since": "2024-01-01"
  }
}
```

## ๐ ูฺฉุงุช ูพุงุฏูโุณุงุฒ

1. **Migration ุฎูุฏฺฉุงุฑ:**
   - ููุฏูุง ุฌุฏุฏ ุจุง `AutoMigrate` ุจู ุฌุฏูู users ุงุถุงูู ูโุดููุฏ

2. **Preload Relations:**
   - Supplier/Visitor queries ุจุงุฏ `.Preload("User")` ุฏุงุดุชู ุจุงุดูุฏ

3. **Image URL Helper:**
   - ุงุฒ `getImageUrl()` utility ุจุฑุง ููุงุด ุชุตุงูุฑ ุงุณุชูุงุฏู ฺฉูุฏ

4. **Permission Checks:**
   - ููุท ูุงูฺฉ ูพุฑููุงู ูโุชูุงูุฏ ุนฺฉุณ ุขูพููุฏ ฺฉูุฏ
   - ููุท ูุงูฺฉ ูพุฑููุงู ูโุชูุงูุฏ ุงุทูุงุนุงุช ูุฑุงุด ฺฉูุฏ

5. **Fallback UI:**
   - ุงฺฏุฑ ุชุตูุฑ ูุฌูุฏ ูุฏุงุฑุฏุ ุขูุงุชุงุฑ gradient ููุงุด ุฏุงุฏู ุดูุฏ
   - ุงฺฏุฑ bio ูุฌูุฏ ูุฏุงุฑุฏุ ุจุฎุด bio ูุฎู ุดูุฏ

## ๐ ูุชุฌู

ุณุณุชู ูพุฑููุงู ุนููู ฺฉุงูู ุดุฏู ุงุณุช ู ุดุงูู:
- โ ุนฺฉุณ ูพุฑููุงู ู ูพุณโุฒููู
- โ ุจูฺฏุฑุงู ู ุงุทูุงุนุงุช ุชูุงุณ
- โ ููุงุด ูุนุงูุชโูุง ฺฉุงุฑุจุฑ
- โ ุขูุงุฑ ู ุฑุชุจูโุจูุฏ
- โ ููฺฉ ุจู ูพุฑููุงู ุงุฒ ูููโุฌุง
- โ UI ุฒุจุง ู Responsive
- โ ุณูุดุงู ูุฏุง ุงุณุชุงู ูุซู ูุณุจูฺฉ

ุงู ุณุณุชู ุจู ฺฉุงุฑุจุฑุงู ุงุฌุงุฒู ูโุฏูุฏ ููุช ุญุฑููโุง ุฎูุฏ ุฑุง ููุงุด ุฏููุฏ ู ุจู ุฑุงุญุช ุจุง ฺฉุฏฺฏุฑ ุงุฑุชุจุงุท ุจุฑูุฑุงุฑ ฺฉููุฏ.
