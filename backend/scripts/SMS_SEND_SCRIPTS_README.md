# ุงุณฺฉุฑูพุชโูุง ุชุณุช ุงุฑุณุงู ุงุณ ุงู ุงุณ

ุงู ุงุณฺฉุฑูพุชโูุง ุงุฒ ููุงู ุณุฑูุณ IPPanel ู ุงูฺฏููุง ุชุนุฑูโุดุฏู ุฏุฑ `config.yaml` ุงุณุชูุงุฏู ูโฺฉููุฏ.

## ูพุดโูุงุฒ

- ุงุฌุฑุง ุญุชูุงู ุงุฒ **ูพูุดู backend** ุงูุฌุงู ุดูุฏ.
- ุฏุฑ `backend/config/config.yaml` ููุงุฏุฑ `sms.api_key`, `sms.originator`, `sms.pattern_code` ู `sms.password_recovery_pattern` ุชูุธู ุดุฏู ุจุงุดูุฏ.

---

## ฑ) ุงุณ ุงู ุงุณ ูุฑุงููุด ุฑูุฒ ุนุจูุฑ

ุงูฺฏู: `password_recovery_pattern` (ูุซูุงู ฺฉุฏ ุชุฃุฏ ถ ุฑูู)

### ุงุฌุฑุง

```bash
cd /path/to/asl_market/backend

# ุจุง ุขุฑฺฏููุงู: ุดูุงุฑู ููุจุงู ู ฺฉุฏ ถ ุฑูู
go run scripts/send_sms_password_recovery.go 09123456789 847291

# ุจุง ูุชุบุฑ ูุญุท
SMS_PHONE=09123456789 SMS_CODE=847291 go run scripts/send_sms_password_recovery.go
```

### ูุซุงู ุฎุฑูุฌ

```
๐ค ุฏุฑ ุญุงู ุงุฑุณุงู ุงุณ ุงู ุงุณ ูุฑุงููุด ุฑูุฒ ุจู 989123456789 ุจุง ฺฉุฏ 847291 ...
โ ุงุณ ุงู ุงุณ ุจุง ููููุช ุงุฑุณุงู ุดุฏ.
```

---

## ฒ) ุงุณ ุงู ุงุณ ุซุจุชโูุงู ูููู (ูุนุงูโุณุงุฒ ูุงุณูุณ)

ุงูฺฏู: `pattern_code` โ ููุงู ุงุณ ุงู ุงุณ ฺฉู ุฏุฑ ุงูพ ููฺฏุงู ูุนุงูโุณุงุฒ ูุงุณูุณ ุงุฑุณุงู ูโุดูุฏ.

### ุงุฌุฑุง

```bash
cd /path/to/asl_market/backend

# ููุท ุดูุงุฑู
go run scripts/send_sms_registration_success.go 09123456789

# ุดูุงุฑู + ูุงู ฺฉุงุฑุจุฑ + ุทุฑุญ (ุงุฎุชุงุฑ)
go run scripts/send_sms_registration_success.go 09123456789 "ุนู ูุญูุฏ" "ุทุฑุญ ุทูุง"

# ุจุง ูุชุบุฑ ูุญุท
SMS_PHONE=09123456789 go run scripts/send_sms_registration_success.go
```

### ูุซุงู ุฎุฑูุฌ

```
๐ค ุฏุฑ ุญุงู ุงุฑุณุงู ุงุณ ุงู ุงุณ ุซุจุชโูุงู ูููู ุจู 989123456789 (ูุงู: ฺฉุงุฑุจุฑุ ุทุฑุญ: ุซุจุช ูุงู) ...
โ ุงุณ ุงู ุงุณ ุจุง ููููุช ุงุฑุณุงู ุดุฏ.
```

---

## ูุญูู ฺฉุงุฑ ุฏุฑ ุงูพูฺฉุดู

| ุฑูุฏุงุฏ              | ุชุงุจุน ุณุฑูุณ                      | ุงูฺฏู (config)                 |
|---------------------|----------------------------------|-------------------------------|
| ูุฑุงููุด ุฑูุฒ ุนุจูุฑ   | `SendPasswordRecoverySMS(phone, code)` | `password_recovery_pattern`   |
| ูุนุงูโุณุงุฒ ูุงุณูุณ    | `SendLicenseActivationSMS(phone, userName, plan)` | `pattern_code` |
| ุซุจุช ูุฏ ุงููุช     | `SendAffiliateRegistrationSMS(phone, name, pattern)` | ุงูฺฏู ูุฎุตูุต ุงููุช |

ุงุณฺฉุฑูพุชโูุง ุจุงูุง ููุงู ุฏู ุชุงุจุน ุงูู ุฑุง ุจุง ููุงู ุงูฺฏููุง ุตุฏุง ูโุฒููุฏุ ููุท ุดูุงุฑู (ู ุฏุฑ ููุฑุฏ ุฏูู ูุงู/ุทุฑุญ) ุฑุง ุงุฒ ุฎุท ูุฑูุงู ุง env ูโฺฏุฑูุฏ.

---

## ุฎุทุงูุง ุฑุงุฌ

- **`SMS ุฏุฑ config ุชูุธู ูุดุฏู ุงุณุช`**  
  ุฏุฑ `config.yaml` ููุฏุงุฑ `sms.api_key` ุฑุง ูพุฑ ฺฉูุฏ.

- **`could not decode response JSON` / 502 Bad Gateway**  
  ุณุฑูุณ IPPanel ูููุชุงู ุฏุฑ ุฏุณุชุฑุณ ูุณุชุ ฺูุฏ ุฏููู ุจุนุฏ ุฏูุจุงุฑู ุงุฌุฑุง ฺฉูุฏ.

- **`ุดูุงุฑู ูุนุชุจุฑ ูุณุช`**  
  ุดูุงุฑู ุฑุง ุจุง ฐนฑฒ... ุง นฑฒ... ุง 98912... ูุงุฑุฏ ฺฉูุฏ.
