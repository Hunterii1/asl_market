# 🎫 مستندات سیستم مدیریت تیکت‌های پشتیبانی ASL Market

## 📋 فهرست مطالب

1. [نمای کلی سیستم](#نمای-کلی-سیستم)
2. [فلوی ثبت تیکت](#فلوی-ثبت-تیکت)
3. [مدیریت ادمین اصلی](#مدیریت-ادمین-اصلی)
4. [مدیریت ادمین پشتیبان](#مدیریت-ادمین-پشتیبان)
5. [API های سیستم](#api-های-سیستم)
6. [نحوه استفاده](#نحوه-استفاده)
7. [آمار و گزارش‌گیری](#آمار-و-گزارش‌گیری)

---

## 🎯 نمای کلی سیستم

سیستم مدیریت تیکت‌های پشتیبانی ASL Market یک سیستم کامل و پیشرفته است که شامل:

### ✨ ویژگی‌های اصلی:
- **ثبت تیکت توسط کاربران** از طریق رابط وب
- **مدیریت کامل از طریق تلگرام** برای ادمین‌ها
- **سیستم اولویت‌بندی** (کم، متوسط، بالا، فوری)
- **دسته‌بندی تیکت‌ها** (عمومی، فنی، مالی، لایسنس، سایر)
- **سیستم وضعیت‌ها** (باز، در حال بررسی، منتظر پاسخ، بسته)
- **نوتیفیکیشن خودکار** برای ادمین‌ها
- **آمار و گزارش‌گیری** کامل

### 🏗️ معماری سیستم:
- **Backend**: Go + Gin + GORM + MySQL
- **Frontend**: React + TypeScript + Tailwind CSS
- **Telegram Bot**: مدیریت ادمین‌ها
- **Database**: MySQL با جداول `support_tickets` و `support_ticket_messages`

---

## 📝 فلوی ثبت تیکت

### 1️⃣ **مرحله ثبت تیکت توسط کاربر**

#### رابط کاربری (Frontend):
- **مسیر**: `/support` در وب‌سایت
- **فرم ثبت تیکت** شامل:
  - عنوان تیکت (اجباری)
  - توضیحات مشکل (اجباری)
  - اولویت (کم، متوسط، بالا، فوری)
  - دسته‌بندی (عمومی، فنی، مالی، لایسنس، سایر)

#### پردازش Backend:
```go
// مدل تیکت
type SupportTicket struct {
    ID          uint   `json:"id"`
    UserID      uint   `json:"user_id"`
    Title       string `json:"title"`
    Description string `json:"description"`
    Priority    string `json:"priority"`    // low, medium, high, urgent
    Status      string `json:"status"`      // open, in_progress, waiting_response, closed
    Category    string `json:"category"`    // general, technical, billing, license, other
    CreatedAt   time.Time `json:"created_at"`
    UpdatedAt   time.Time `json:"updated_at"`
    Messages    []SupportTicketMessage `json:"messages"`
}
```

### 2️⃣ **نوتیفیکیشن خودکار**

هنگام ثبت تیکت جدید، سیستم:
- **پیام خودکار** به تمام ادمین‌های اصلی ارسال می‌کند
- **پیام خودکار** به ادمین پشتیبان ارسال می‌کند
- **اطلاعات کامل** شامل:
  - شناسه تیکت
  - اطلاعات کاربر (نام، ایمیل، موبایل)
  - عنوان و توضیحات
  - اولویت و دسته‌بندی
  - دستورات مدیریت

---

## 👑 مدیریت ادمین اصلی

### 🔑 **دسترسی‌ها:**
- **ID های ادمین اصلی**: `76599340`, `276043481`, `110435852`
- **دسترسی کامل** به تمام بخش‌های سیستم
- **مدیریت تیکت‌ها** از طریق منوی اصلی

### 📱 **منوی تلگرام ادمین اصلی:**

```
🎛️ پنل مدیریت ASL Market

👥 مدیریت کاربران    📊 آمار سیستم
🔑 مدیریت لایسنس     💰 مدیریت برداشت‌ها
🎓 مدیریت آموزش      🎫 تیکت‌های پشتیبانی
🏪 مدیریت تأمین‌کنندگان
🌍 مدیریت ویزیتورها  🔍 محصولات تحقیقی
📢 مدیریت پاپ‌آپ‌ها   📦 کالاهای موجود
📤 ورود انبوه        ➕ افزودن تکی
🔍 جستجو            🔔 نوتیفیکیشن‌ها
⚙️ تنظیمات
```

### 🎫 **منوی مدیریت تیکت‌ها:**

```
🎫 مدیریت تیکت‌های پشتیبانی

📬 تیکت‌های باز        🔄 در حال بررسی
⏳ منتظر پاسخ         ✅ بسته شده
📋 همه تیکت‌ها         📊 آمار تیکت‌ها
🔙 بازگشت
```

### 🛠️ **دستورات مدیریت تیکت:**

#### مشاهده تیکت‌ها بر اساس وضعیت:
- **تیکت‌های باز**: `/open_tickets`
- **در حال بررسی**: `/in_progress_tickets`
- **منتظر پاسخ**: `/waiting_tickets`
- **بسته شده**: `/closed_tickets`
- **همه تیکت‌ها**: `/all_tickets`

#### دستورات تکی:
- **مشاهده جزئیات**: `/view_ticket_123`
- **پاسخ به تیکت**: `/respond_ticket_123`
- **بستن تیکت**: `/close_ticket_123`

### 📊 **نمایش تیکت‌ها:**

هر تیکت با فرمت زیر نمایش داده می‌شود:

```
🎫 تیکت #123: مشکل در ورود به سیستم

👤 کاربر: احمد محمدی (09123456789)
📧 ایمیل: ahmad@example.com
🎯 دسته: فنی | اولویت: بالا
📊 وضعیت: باز
📅 تاریخ: 1403/01/15 14:30

📝 توضیحات:
من نمی‌توانم وارد حساب کاربری خود شوم...

🔗 دستورات: /view_ticket_123 /respond_ticket_123
```

---

## 🛡️ مدیریت ادمین پشتیبان

### 🔑 **دسترسی‌ها:**
- **ID ادمین پشتیبان**: `8095823308`
- **دسترسی محدود** فقط به بخش تیکت‌های پشتیبانی
- **عدم دسترسی** به سایر بخش‌های سیستم

### 📱 **منوی تلگرام ادمین پشتیبان:**

```
🎫 پنل مدیریت تیکت‌های پشتیبانی

خوش آمدید! شما به عنوان ادمین پشتیبانی دسترسی محدود 
به مدیریت تیکت‌های پشتیبانی دارید.

✅ دسترسی‌های شما:
🎫 مشاهده و مدیریت تیکت‌های پشتیبانی
💬 پاسخ‌دهی به تیکت‌ها
📊 آمار تیکت‌ها

🎫 تیکت‌های پشتیبانی
```

### 🎫 **منوی تیکت‌های پشتیبان:**

```
🎫 مدیریت تیکت‌های پشتیبانی

📬 تیکت‌های باز        🔄 در حال بررسی
⏳ منتظر پاسخ         ✅ بسته شده
📋 همه تیکت‌ها         📊 آمار تیکت‌ها
🔙 بازگشت
```

### ⚡ **ویژگی‌های خاص ادمین پشتیبان:**
- **نوتیفیکیشن خودکار** برای تیکت‌های جدید
- **نوتیفیکیشن خودکار** برای پیام‌های کاربران
- **دسترسی کامل** به تمام تیکت‌ها
- **امکان پاسخ‌دهی** به تمام تیکت‌ها
- **مشاهده آمار** تیکت‌ها

---

## 🔌 API های سیستم

### 📡 **API های کاربران:**

#### ایجاد تیکت جدید:
```http
POST /api/v1/support/tickets
Authorization: Bearer <token>
Content-Type: application/json

{
  "title": "مشکل در ورود به سیستم",
  "description": "توضیحات مشکل...",
  "priority": "high",
  "category": "technical"
}
```

#### دریافت تیکت‌های کاربر:
```http
GET /api/v1/support/tickets?page=1&status=open
Authorization: Bearer <token>
```

#### ارسال پیام به تیکت:
```http
POST /api/v1/support/tickets/123/messages
Authorization: Bearer <token>
Content-Type: application/json

{
  "message": "پیام جدید..."
}
```

#### بستن تیکت:
```http
POST /api/v1/support/tickets/123/close
Authorization: Bearer <token>
```

### 📡 **API های ادمین:**

#### دریافت تمام تیکت‌ها:
```http
GET /api/v1/admin/support/tickets?status=open&page=1
Authorization: Bearer <admin_token>
```

#### پاسخ به تیکت:
```http
POST /api/v1/admin/support/tickets/123/respond
Authorization: Bearer <admin_token>
Content-Type: application/json

{
  "message": "پاسخ ادمین...",
  "is_admin": true
}
```

---

## 🎮 نحوه استفاده

### 👤 **برای کاربران:**

1. **ورود به بخش پشتیبانی:**
   - وارد حساب کاربری خود شوید
   - به بخش "پشتیبانی" بروید
   - روی "ایجاد تیکت جدید" کلیک کنید

2. **پر کردن فرم تیکت:**
   - عنوان مشکل را بنویسید
   - توضیحات کامل ارائه دهید
   - اولویت و دسته‌بندی را انتخاب کنید
   - تیکت را ارسال کنید

3. **پیگیری تیکت:**
   - در بخش "تیکت‌های من" وضعیت را مشاهده کنید
   - پیام‌های ادمین را بخوانید
   - در صورت نیاز پاسخ دهید

### 👑 **برای ادمین اصلی:**

1. **دسترسی به تلگرام:**
   - ربات تلگرام را استارت کنید
   - از منوی اصلی "تیکت‌های پشتیبانی" را انتخاب کنید

2. **مدیریت تیکت‌ها:**
   - تیکت‌های جدید را مشاهده کنید
   - با دستور `/view_ticket_123` جزئیات را ببینید
   - با دستور `/respond_ticket_123` پاسخ دهید

3. **نظارت بر سیستم:**
   - آمار تیکت‌ها را مشاهده کنید
   - وضعیت تیکت‌ها را بررسی کنید
   - عملکرد تیم پشتیبانی را ارزیابی کنید

### 🛡️ **برای ادمین پشتیبان:**

1. **دسترسی محدود:**
   - فقط منوی تیکت‌های پشتیبانی در دسترس است
   - تمام قابلیت‌های مدیریت تیکت‌ها فعال است

2. **پاسخ‌دهی به تیکت‌ها:**
   - تیکت‌های جدید را مشاهده کنید
   - به تیکت‌ها پاسخ دهید
   - وضعیت تیکت‌ها را به‌روزرسانی کنید

---

## 📊 آمار و گزارش‌گیری

### 📈 **آمار کلی تیکت‌ها:**

```
📊 آمار تیکت‌های پشتیبانی

📊 آمار کلی:
• کل تیکت‌ها: 150 تیکت
• تیکت‌های باز: 25 تیکت (16.7%)
• در حال بررسی: 15 تیکت (10.0%)
• منتظر پاسخ: 8 تیکت (5.3%)
• بسته شده: 102 تیکت (68.0%)

⚡ آمار اولویت:
• فوری: 5 تیکت (3.3%)
• بالا: 35 تیکت (23.3%)
• متوسط: 85 تیکت (56.7%)
• کم: 25 تیکت (16.7%)

📂 آمار دسته‌بندی:
• فنی: 60 تیکت (40.0%)
• عمومی: 45 تیکت (30.0%)
• مالی: 25 تیکت (16.7%)
• لایسنس: 15 تیکت (10.0%)
• سایر: 5 تیکت (3.3%)

📈 آمار عملکرد:
• میانگین زمان پاسخ: 2.5 ساعت
• میانگین زمان حل: 24 ساعت
• رضایت کاربران: 95%
• تیکت‌های حل شده: 102 تیکت
```

### 📊 **گزارش‌های تفصیلی:**

#### گزارش روزانه:
- تعداد تیکت‌های جدید
- تعداد تیکت‌های حل شده
- میانگین زمان پاسخ
- تیکت‌های فوری

#### گزارش هفتگی:
- آمار کلی هفته
- مقایسه با هفته قبل
- عملکرد تیم پشتیبانی
- مشکلات رایج

#### گزارش ماهانه:
- آمار کامل ماه
- روند تغییرات
- تحلیل دسته‌بندی‌ها
- پیشنهادات بهبود

---

## 🔧 تنظیمات و پیکربندی

### ⚙️ **تنظیمات سیستم:**

#### اولویت‌ها:
- **فوری**: مشکلات بحرانی (زمان پاسخ: 1 ساعت)
- **بالا**: مشکلات مهم (زمان پاسخ: 4 ساعت)
- **متوسط**: مشکلات عادی (زمان پاسخ: 24 ساعت)
- **کم**: درخواست‌های عمومی (زمان پاسخ: 72 ساعت)

#### دسته‌بندی‌ها:
- **فنی**: مشکلات فنی و باگ‌ها
- **عمومی**: سوالات عمومی
- **مالی**: مشکلات مالی و پرداخت
- **لایسنس**: مشکلات لایسنس
- **سایر**: سایر موارد

#### وضعیت‌ها:
- **باز**: تیکت جدید
- **در حال بررسی**: در دست ادمین
- **منتظر پاسخ**: منتظر پاسخ کاربر
- **بسته**: حل شده

### 🔔 **نوتیفیکیشن‌ها:**

#### برای ادمین‌ها:
- تیکت جدید ایجاد شد
- پیام جدید از کاربر
- تیکت بسته شد
- تغییر وضعیت تیکت

#### برای کاربران:
- پاسخ ادمین دریافت شد
- وضعیت تیکت تغییر کرد
- تیکت بسته شد

---

## 🚀 مزایای سیستم

### ✅ **برای کاربران:**
- **دسترسی آسان** به پشتیبانی
- **پیگیری راحت** تیکت‌ها
- **پاسخ سریع** از تیم پشتیبانی
- **سیستم اولویت‌بندی** هوشمند

### ✅ **برای ادمین‌ها:**
- **مدیریت کامل** از طریق تلگرام
- **نوتیفیکیشن فوری** برای تیکت‌های جدید
- **آمار و گزارش‌گیری** کامل
- **دسترسی محدود** برای ادمین پشتیبان

### ✅ **برای سیستم:**
- **سازماندهی** تیکت‌ها
- **ردیابی** عملکرد تیم
- **بهبود** کیفیت پشتیبانی
- **کاهش** زمان پاسخ‌دهی

---

## 📞 پشتیبانی فنی

### 🆘 **در صورت بروز مشکل:**

1. **مشکلات فنی:**
   - لاگ‌های سیستم را بررسی کنید
   - اتصال دیتابیس را چک کنید
   - تنظیمات تلگرام را بررسی کنید

2. **مشکلات کاربری:**
   - راهنمای کاربر را مطالعه کنید
   - با تیم پشتیبانی تماس بگیرید
   - مشکل را در تیکت گزارش دهید

3. **به‌روزرسانی سیستم:**
   - نسخه‌های جدید را نصب کنید
   - تنظیمات را به‌روزرسانی کنید
   - تست‌های لازم را انجام دهید

---

## 📝 نتیجه‌گیری

سیستم مدیریت تیکت‌های پشتیبانی ASL Market یک راه‌حل کامل و پیشرفته برای مدیریت پشتیبانی مشتریان است که:

- **کارایی بالا** در مدیریت تیکت‌ها
- **دسترسی آسان** برای کاربران و ادمین‌ها
- **گزارش‌گیری کامل** و آمار دقیق
- **انعطاف‌پذیری** در تنظیمات
- **امنیت بالا** در دسترسی‌ها

این سیستم به شما امکان مدیریت حرفه‌ای و کارآمد تیکت‌های پشتیبانی را می‌دهد و تجربه کاربری بهتری برای مشتریان شما فراهم می‌کند.

---

**📅 تاریخ تهیه مستندات:** 1403/01/15  
**👨‍💻 تهیه‌کننده:** تیم توسعه ASL Market  
**📧 تماس:** support@asllmarket.com
