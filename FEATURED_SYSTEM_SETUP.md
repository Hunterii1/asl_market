# 🌟 راهنمای راه‌اندازی سیستم برگزیده

## 📋 مراحل راه‌اندازی

### 1️⃣ **اجرای مایگریشن دیتابیس**

#### روش اول: از طریق MySQL Command Line
```bash
mysql -u root -p asl_market < run_migration.sql
```

#### روش دوم: از طریق phpMyAdmin یا MySQL Workbench
1. باز کردن فایل `run_migration.sql`
2. کپی کردن محتوا
3. اجرا در دیتابیس `asl_market`

#### روش سوم: دستی
```sql
USE asl_market;

-- اضافه کردن فیلدها به جدول suppliers
ALTER TABLE suppliers 
ADD COLUMN is_featured BOOLEAN DEFAULT FALSE,
ADD COLUMN featured_at TIMESTAMP NULL,
ADD COLUMN featured_by INT UNSIGNED NULL;

-- اضافه کردن فیلدها به جدول visitors
ALTER TABLE visitors
ADD COLUMN is_featured BOOLEAN DEFAULT FALSE,
ADD COLUMN featured_at TIMESTAMP NULL,
ADD COLUMN featured_by INT UNSIGNED NULL;

-- اضافه کردن ایندکس‌ها
CREATE INDEX idx_suppliers_featured ON suppliers(is_featured, featured_at);
CREATE INDEX idx_visitors_featured ON visitors(is_featured, featured_at);
```

### 2️⃣ **راه‌اندازی Backend**

Backend آماده است! فقط مطمئن شوید که:
- سرور Go در حال اجراست (`go run main.go`)
- تلگرام بات فعال است
- اتصال به دیتابیس برقرار است

### 3️⃣ **راه‌اندازی Frontend**

Frontend نیز آماده است! فقط مطمئن شوید که:
- سرور React در حال اجراست (`npm run dev`)
- اتصال به Backend برقرار است

## 🎮 **نحوه استفاده**

### **از طریق تلگرام بات:**

#### برگزیده کردن تأمین‌کننده:
1. `/start` → مدیریت تأمین‌کنندگان → ✅ تأمین‌کنندگان تأیید شده
2. کلیک روی `/feature{ID}` کنار تأمین‌کننده مورد نظر
3. تأمین‌کننده برگزیده می‌شود

#### برگزیده کردن ویزیتور:
1. `/start` → مدیریت ویزیتورها → ✅ ویزیتورهای تأیید شده  
2. کلیک روی `/vfeature{ID}` کنار ویزیتور مورد نظر
3. ویزیتور برگزیده می‌شود

#### مشاهده برگزیده‌ها:
- منو → مدیریت تأمین‌کنندگان → ⭐ تأمین‌کنندگان برگزیده
- منو → مدیریت ویزیتورها → ⭐ ویزیتورهای برگزیده

#### حذف برگزیده:
- کلیک روی `/unfeature{ID}` یا `/vunfeature{ID}` کنار فرد برگزیده

## 🔍 **تست عملکرد**

### تست Backend:
1. ورود به تلگرام بات با اکانت ادمین
2. تست دستورات برگزیده کردن
3. بررسی نمایش در لیست‌ها
4. تست حذف برگزیده

### تست Frontend:
1. بازدید از صفحه تأمین‌کنندگان
2. بررسی نمایش ستاره ⭐ کنار برگزیده‌ها
3. بررسی مرتب‌سازی (برگزیده‌ها اول)

## 🎯 **ویژگی‌های سیستم**

### ✅ **پیاده‌سازی شده:**
- ✅ فیلدهای دیتابیس (`is_featured`, `featured_at`, `featured_by`)
- ✅ دستورات تلگرام (`/feature{ID}`, `/unfeature{ID}`, `/vfeature{ID}`, `/vunfeature{ID}`)
- ✅ منوهای ادمین پنل (⭐ برگزیده‌ها)
- ✅ پیجینیشن کامل برای لیست برگزیده‌ها
- ✅ نمایش ستاره در لیست‌های تلگرام
- ✅ مرتب‌سازی: برگزیده‌ها اول (`ORDER BY is_featured DESC`)
- ✅ نمایش ستاره در فرانت‌اند (⭐)
- ✅ مرتب‌سازی فرانت‌اند: برگزیده‌ها اول

### 🔐 **امنیت:**
- فقط ادمین‌های تأیید شده می‌توانند برگزیده کنند
- فقط افراد تأیید شده می‌توانند برگزیده شوند
- ثبت تاریخ و شناسه ادمین برای هر تغییر

### 📊 **عملکرد:**
- ایندکس‌گذاری برای جستجوی سریع
- پیجینیشن برای مدیریت حجم بالا
- مرتب‌سازی بهینه در دیتابیس

## 🚀 **آماده برای استفاده!**

سیستم برگزیده کاملاً پیاده‌سازی شده و آماده استفاده است. فقط مایگریشن دیتابیس را اجرا کنید و از قابلیت‌های جدید لذت ببرید!

---

**تاریخ:** 2024-11-13  
**نسخه:** 1.0.0  
**وضعیت:** ✅ آماده برای تولید
