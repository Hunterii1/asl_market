[program:backend]
command=/var/www/asl_market/backend/backend
directory=/var/www/asl_market/backend
user=www-data
autostart=true
autorestart=true
startretries=3
redirect_stderr=true
stdout_logfile=/var/www/asl_market/backend/logs/backend.log
stdout_logfile_maxbytes=50MB
stdout_logfile_backups=10
stderr_logfile=/var/www/asl_market/backend/logs/backend_error.log
stderr_logfile_maxbytes=50MB
stderr_logfile_backups=10

# Environment variables
environment=
    GIN_MODE=release,
    CONFIG_PATH=/var/www/asl_market/backend/config/config.yaml

# Resource limits
process_name=%(program_name)s
numprocs=1
priority=999
startsecs=1
stopwaitsecs=10
stopsignal=TERM

# Auto restart on failure
autorestart=unexpected
exitcodes=0,2 